(this.webpackJsonpplanbrella=this.webpackJsonpplanbrella||[]).push([[0],{11:function(e,t,a){e.exports={formContainer:"SignInUpForm_formContainer__bped_",header:"SignInUpForm_header__3caXE",form:"SignInUpForm_form__1LNfT",input:"SignInUpForm_input__38e9W",submitButton:"SignInUpForm_submitButton__nL3nF",divider:"SignInUpForm_divider__2P-cK",signInText:"SignInUpForm_signInText__YNyTv",signUpText:"SignInUpForm_signUpText__12IXi",link:"SignInUpForm_link__1T7Hz"}},12:function(e,t,a){e.exports={Container:"TaskDetail_Container__1Is53",TextBox:"TaskDetail_TextBox__29VOZ",Title:"TaskDetail_Title__3jfKY",Description:"TaskDetail_Description__1wtug",DueDate:"TaskDetail_DueDate__3PlTq",Divider:"TaskDetail_Divider__1Zf4H",ButtonsContainer:"TaskDetail_ButtonsContainer__1fExW",Button:"TaskDetail_Button__2Se-k",CommentsSection:"TaskDetail_CommentsSection__1yXec",Comment:"TaskDetail_Comment__3HSVx",CommentOwner:"TaskDetail_CommentOwner__q-H_l",CommentText:"TaskDetail_CommentText__3YQVB",CommentDate:"TaskDetail_CommentDate__35FBK",Textarea:"TaskDetail_Textarea__12X9y",CommentButtons:"TaskDetail_CommentButtons___N_-H",OverdueDate:"TaskDetail_OverdueDate__Phetm",OverdueText:"TaskDetail_OverdueText__2B2Vc",HeaderRow:"TaskDetail_HeaderRow__1hEPU",TaskItem:"TaskDetail_TaskItem__2C4I3",TaskButton:"TaskDetail_TaskButton__3dX_U"}},14:function(e,t,a){e.exports={NavBar:"NavBar_NavBar__1amC6",NavLink:"NavBar_NavLink__34ons",NavLinkActive:"NavBar_NavLinkActive__AdSva",NavText:"NavBar_NavText__30Uk8",BrandContainer:"NavBar_BrandContainer__5g22E"}},15:function(e,t,a){e.exports={Container:"GroupEdit_Container__2XMnU",TextBox:"GroupEdit_TextBox__3YdG9",Form:"GroupEdit_Form__2ft1H",FormGroup:"GroupEdit_FormGroup__rixL3",Input:"GroupEdit_Input__3rsNX",Textarea:"GroupEdit_Textarea__2QCfP",ButtonGroup:"GroupEdit_ButtonGroup__3Hj9A",Button:"GroupEdit_Button__3oDFl"}},19:function(e,t,a){e.exports={Container:"TaskEdit_Container__1ECqs",TextBox:"TaskEdit_TextBox__2ZdiK",Form:"TaskEdit_Form__1SJlJ",FormGroup:"TaskEdit_FormGroup__26eeU",Input:"TaskEdit_Input__2bbp1",Textarea:"TaskEdit_Textarea__1ZYoY",ButtonGroup:"TaskEdit_ButtonGroup__39QDJ",Button:"TaskEdit_Button__HhhMg"}},20:function(e,t,a){e.exports={Container:"Tasks_Container__8DBvF",TextBox:"Tasks_TextBox__2t5Qf",ScrollableContent:"Tasks_ScrollableContent__FLl0k",HeaderRow:"Tasks_HeaderRow__2HXbo",TaskItem:"Tasks_TaskItem__1cXCW",CreateButton:"Tasks_CreateButton__3d0kI",btn:"Tasks_btn__1WBn4",CheckIcon:"Tasks_CheckIcon__3QJkD",OverdueDate:"Tasks_OverdueDate__3h-Lb",OverdueText:"Tasks_OverdueText__3EHuu",TaskButton:"Tasks_TaskButton__14ull"}},21:function(e,t,a){e.exports={Container:"TaskCreateForm_Container__2DAEF",TextBox:"TaskCreateForm_TextBox__36p8E",Form:"TaskCreateForm_Form__6hCkF",FormGroup:"TaskCreateForm_FormGroup__3r-wu",Input:"TaskCreateForm_Input__1uaRw",Textarea:"TaskCreateForm_Textarea__3m8q_",ButtonGroup:"TaskCreateForm_ButtonGroup__7oEDq",Button:"TaskCreateForm_Button__EwMfB"}},22:function(e,t,a){e.exports={Container:"GroupCreateForm_Container___ItCQ",TextBox:"GroupCreateForm_TextBox__2786U",Form:"GroupCreateForm_Form__1aeB6",FormGroup:"GroupCreateForm_FormGroup__2JRH0",Input:"GroupCreateForm_Input__1PpP6",Textarea:"GroupCreateForm_Textarea__3UJu5",ButtonGroup:"GroupCreateForm_ButtonGroup__2OVSL",Button:"GroupCreateForm_Button__2IeKm"}},25:function(e,t,a){e.exports={Container:"GroupDetail_Container__3daGk",TextBox:"GroupDetail_TextBox__2fLIu",Title:"GroupDetail_Title__zv4xJ",Description:"GroupDetail_Description__1GC_u",GroupSize:"GroupDetail_GroupSize__-PEgz",TaskLink:"GroupDetail_TaskLink__2urED",Divider:"GroupDetail_Divider__3-Mwd",ButtonsContainer:"GroupDetail_ButtonsContainer__2j5Nx",Button:"GroupDetail_Button__1C2zG"}},28:function(e,t,a){e.exports={Container:"GroupList_Container__c7lwP",TextBox:"GroupList_TextBox__1xmpu",ScrollableContent:"GroupList_ScrollableContent__1M-fI",HeaderRow:"GroupList_HeaderRow__dPJwT",GroupItem:"GroupList_GroupItem__Puqpz",CreateButton:"GroupList_CreateButton__3mZ5N",btn:"GroupList_btn__2ZmL9",GroupButton:"GroupList_GroupButton__pzgHF"}},39:function(e,t,a){e.exports={Container:"Home_Container__1yRpm",TextBox:"Home_TextBox__1PPGn"}},41:function(e,t,a){e.exports={CommentCreateForm:"CommentCreateForm_CommentCreateForm__3kg2i",Textarea:"CommentCreateForm_Textarea__14rYF",Button:"CommentCreateForm_Button__340gK",Error:"CommentCreateForm_Error__1AJLq"}},42:function(e,t,a){e.exports={Footer:"Footer_Footer__9Y8xx",Title:"Footer_Title__1Dv-1",Paragraph:"Footer_Paragraph__fbol8"}},52:function(e,t,a){e.exports={App:"App_App__16ZpL",content:"App_content__3La4L",contentShift:"App_contentShift__2vaSI"}},73:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);a(68);var s=a(0),n=a(24),r=a.n(n),c=(a(73),a(4)),i=a(6),o=a.n(i),l=a(105),d=a(99),j=a(104),u=a(10),b=a(8),m=a.n(b),p=a.p+"static/media/logo.5ef7ff6e.jpg",x=a(14),h=a.n(x);m.a.defaults.baseURL="/api",m.a.defaults.headers.post["Content-Type"]="multipart/form-data",m.a.defaults.withCredentials=!0;const O=m.a.create(),_=m.a.create();var v=a(64);const g=()=>{localStorage.removeItem("refreshTokenTimestamp")};var k=a(1);const C=Object(s.createContext)(),N=Object(s.createContext)(),T=()=>Object(s.useContext)(C),y=()=>Object(s.useContext)(N),D=e=>{let{children:t}=e;const[a,n]=Object(s.useState)(null),r=Object(c.o)();return Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await _.get("/dj-rest-auth/user/");n(e)}catch(e){console.log("Error fetching user data:",e)}})()}),[]),Object(s.useMemo)((()=>{O.interceptors.request.use((async e=>{if(localStorage.getItem("refreshTokenTimestamp"))try{await m.a.post("/dj-rest-auth/token/refresh/")}catch(t){return n((e=>(e&&r("/sign-in"),null))),g(),e}return e}),(e=>Promise.reject(e))),_.interceptors.response.use((e=>e),(async e=>{var t;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)){try{await m.a.post("/dj-rest-auth/token/refresh/")}catch(e){n((e=>(e&&r("/sign-in"),null))),g()}return m()(e.config)}return Promise.reject(e)}))}),[r]),Object(k.jsx)(C.Provider,{value:a,children:Object(k.jsx)(N.Provider,{value:n,children:t})})};var f=e=>{let{onToggle:t}=e;const[a,n]=Object(s.useState)(!1),r=T(),i=y(),o=Object(c.o)(),b=()=>{n(!1),t(!1)},x=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(u.c,{className:e=>{let{isActive:t}=e;return t?h.a.NavLinkActive:h.a.NavLink},to:"/tasks",onClick:b,children:"Tasks"}),Object(k.jsx)(u.c,{className:e=>{let{isActive:t}=e;return t?h.a.NavLinkActive:h.a.NavLink},to:"/groups",onClick:b,children:"Groups"}),Object(k.jsx)("span",{className:h.a.NavLink,onClick:async()=>{try{await m.a.post("/dj-rest-auth/logout/"),localStorage.removeItem("token"),i(null),b(),o("/")}catch(e){}},children:"Sign Out"}),Object(k.jsx)("span",{className:h.a.NavText,children:null===r||void 0===r?void 0:r.username})]}),O=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(u.c,{className:e=>{let{isActive:t}=e;return t?h.a.NavLinkActive:h.a.NavLink},to:"/sign-in",onClick:b,children:"Sign In"}),Object(k.jsx)(u.c,{className:e=>{let{isActive:t}=e;return t?h.a.NavLinkActive:h.a.NavLink},to:"/sign-up",onClick:b,children:"Sign Up"})]});return Object(k.jsx)(l.a,{className:h.a.NavBar,expand:"md",fixed:"top",expanded:a,children:Object(k.jsxs)(d.a,{className:"d-flex justify-content-center",children:[Object(k.jsx)(u.c,{to:"/",className:h.a.BrandContainer,onClick:b,children:Object(k.jsx)(l.a.Brand,{children:Object(k.jsx)("img",{src:p,alt:"logo",height:"80",width:"80"})})}),Object(k.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav",onClick:()=>{n(!a),t(!a)}}),Object(k.jsx)(l.a.Collapse,{id:"basic-navbar-nav",children:Object(k.jsxs)(j.a,{className:"mx-auto text-center",children:[Object(k.jsx)(u.c,{className:e=>{let{isActive:t}=e;return t?h.a.NavLinkActive:h.a.NavLink},to:"/",onClick:b,children:"Home"}),r?x:O]})})]})})},S=a(39),B=a.n(S);var w=()=>{const e=T();return Object(k.jsx)("div",{className:B.a.Container,children:Object(k.jsxs)("div",{className:B.a.TextBox,children:[Object(k.jsx)("h2",{children:e?"Planbrella, Productivity App":"Welcome to Planbrella"}),e?Object(k.jsxs)("p",{children:["Welcome back, ",e.username,"!",Object(k.jsx)("br",{}),"Organize your tasks efficiently and stay on top of your schedule.",Object(k.jsx)("br",{}),"You can manage your tasks by visiting the"," ",Object(k.jsx)(u.c,{to:"/tasks",className:B.a.Link,children:"Tasks page"}),"."]}):Object(k.jsxs)("p",{children:["Your premier solution for organizing tasks both personally and professionally.",Object(k.jsx)("br",{}),"If you already have an account, please"," ",Object(k.jsx)(u.c,{to:"/sign-in",className:B.a.Link,children:"sign in here"}),". New users can create an account by"," ",Object(k.jsx)(u.c,{to:"/sign-up",className:B.a.Link,children:"signing up here"}),"."]})]})})},F=a(103),G=a(100),E=a(101),I=a(11),L=a.n(I);var A=function(){var e,t,a;const n=y();(e=>{const t=Object(c.o)();Object(s.useEffect)((()=>{(async()=>{try{await m.a.post("/dj-rest-auth/token/refresh/"),"loggedIn"===e&&t("/")}catch(a){"loggedOut"===e&&t("/sign-in")}})()}),[t,e])})("loggedIn");const[r,i]=Object(s.useState)({username:"",password:""}),{username:o,password:l}=r,[j,b]=Object(s.useState)({}),p=Object(c.o)(),x=e=>{i({...r,[e.target.name]:e.target.value})};return Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{className:L.a.header,children:"Sign In"}),Object(k.jsxs)(d.a,{className:L.a.formContainer,children:[Object(k.jsxs)(F.a,{onSubmit:async e=>{e.preventDefault();try{const{data:e}=await m.a.post("/dj-rest-auth/login/",r);n(e.user),(e=>{const t=Object(v.a)(null===e||void 0===e?void 0:e.refresh_token).exp;localStorage.setItem("refreshTokenTimestamp",t)})(e),p("/")}catch(a){var t;b(null===(t=a.response)||void 0===t?void 0:t.data)}},children:[Object(k.jsxs)(F.a.Group,{controlId:"username",children:[Object(k.jsx)(F.a.Label,{className:"d-none",children:"Username"}),Object(k.jsx)(F.a.Control,{type:"text",placeholder:"Enter username",name:"username",value:o,onChange:x,className:L.a.input})]}),null===(e=j.username)||void 0===e?void 0:e.map(((e,t)=>Object(k.jsx)(G.a,{variant:"warning",children:e},t))),Object(k.jsxs)(F.a.Group,{controlId:"password",className:"mt-3",children:[Object(k.jsx)(F.a.Label,{className:"d-none",children:"Password"}),Object(k.jsx)(F.a.Control,{type:"password",placeholder:"Enter password",name:"password",value:l,onChange:x,className:L.a.input})]}),null===(t=j.password)||void 0===t?void 0:t.map(((e,t)=>Object(k.jsx)(G.a,{variant:"warning",children:e},t))),null===(a=j.non_field_errors)||void 0===a?void 0:a.map(((e,t)=>Object(k.jsx)(G.a,{variant:"warning",className:"mt-3",children:e},t))),Object(k.jsx)(E.a,{variant:"primary",type:"submit",className:L.a.submitButton,children:"Sign In"})]}),Object(k.jsx)("div",{className:L.a.divider,children:"or"}),Object(k.jsxs)("p",{className:L.a.signUpText,children:["Don't have an account?"," ",Object(k.jsx)(u.b,{to:"/sign-up",className:L.a.link,children:"Sign up here!"})]})]})]})};var q=function(){var e,t,a,n;const[r,i]=Object(s.useState)({username:"",password1:"",password2:""}),{username:o,password1:l,password2:j}=r,[b,p]=Object(s.useState)({}),x=Object(c.o)(),h=e=>{i({...r,[e.target.name]:e.target.value})};return Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{className:L.a.header,children:"Sign Up"}),Object(k.jsxs)(d.a,{className:L.a.formContainer,children:[Object(k.jsxs)(F.a,{onSubmit:async e=>{e.preventDefault();try{await m.a.post("/dj-rest-auth/registration/",r),x("/sign-in")}catch(a){var t;p(null===(t=a.response)||void 0===t?void 0:t.data)}},children:[Object(k.jsxs)(F.a.Group,{controlId:"username",children:[Object(k.jsx)(F.a.Label,{className:"d-none",children:"Username"}),Object(k.jsx)(F.a.Control,{type:"text",placeholder:"Enter username",name:"username",value:o,onChange:h,className:L.a.input})]}),null===(e=b.username)||void 0===e?void 0:e.map(((e,t)=>Object(k.jsx)(G.a,{variant:"warning",children:e},t))),Object(k.jsxs)(F.a.Group,{controlId:"password1",className:"mt-3",children:[Object(k.jsx)(F.a.Label,{className:"d-none",children:"Password"}),Object(k.jsx)(F.a.Control,{type:"password",placeholder:"Enter password",name:"password1",value:l,onChange:h,className:L.a.input})]}),null===(t=b.password1)||void 0===t?void 0:t.map(((e,t)=>Object(k.jsx)(G.a,{variant:"warning",children:e},t))),Object(k.jsxs)(F.a.Group,{controlId:"password2",className:"mt-3",children:[Object(k.jsx)(F.a.Label,{className:"d-none",children:"Confirm Password"}),Object(k.jsx)(F.a.Control,{type:"password",placeholder:"Confirm password",name:"password2",value:j,onChange:h,className:L.a.input})]}),null===(a=b.password2)||void 0===a?void 0:a.map(((e,t)=>Object(k.jsx)(G.a,{variant:"warning",children:e},t))),null===(n=b.non_field_errors)||void 0===n?void 0:n.map(((e,t)=>Object(k.jsx)(G.a,{variant:"warning",className:"mt-3",children:e},t))),Object(k.jsx)(E.a,{variant:"primary",type:"submit",className:L.a.submitButton,children:"Sign Up"})]}),Object(k.jsx)("div",{className:L.a.divider,children:"or"}),Object(k.jsxs)("p",{className:L.a.signInText,children:["Already have an account?"," ",Object(k.jsx)(u.b,{to:"/sign-in",className:L.a.link,children:"Sign in here!"})]})]})]})},H=a(67),z=a(102),P=a(20),U=a.n(P);var R=()=>{const[e,t]=Object(s.useState)([]),[a,n]=Object(s.useState)(!1),[r,c]=Object(s.useState)(null);Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await _.get("/tasks/"),a=e.sort(((e,t)=>new Date(e.due_date)-new Date(t.due_date)));t(a)}catch(e){}})()}),[]);const i=()=>{n(!1),c(null)};return Object(k.jsxs)("div",{className:U.a.Container,children:[Object(k.jsxs)("div",{className:U.a.TextBox,children:[Object(k.jsxs)("div",{className:U.a.ScrollableContent,children:[Object(k.jsxs)("div",{className:U.a.HeaderRow,children:[Object(k.jsx)("div",{children:"Title"}),Object(k.jsx)("div",{children:"Due Date"}),Object(k.jsx)("div",{children:"View Task"}),Object(k.jsx)("div",{children:"Edit Task"}),Object(k.jsx)("div",{children:"Delete Task"})]}),e.length>0?e.map((e=>Object(k.jsxs)("div",{className:U.a.TaskItem,children:[Object(k.jsxs)("div",{children:[e.title," ","done"===e.state&&Object(k.jsx)(H.a,{})]}),Object(k.jsxs)("div",{className:e.is_overdue?"".concat(U.a.OverdueDate):"",children:[new Date(e.due_date).toLocaleDateString()," ",e.is_overdue&&Object(k.jsx)("span",{className:U.a.OverdueText,children:"Overdue"})]}),Object(k.jsx)("div",{children:Object(k.jsx)(u.b,{to:"/tasks/".concat(e.id),className:"btn btn-primary ".concat(U.a.TaskButton),children:"View"})}),Object(k.jsx)("div",{children:Object(k.jsx)(u.b,{to:"/tasks/".concat(e.id,"/edit"),className:"btn btn-warning ".concat(U.a.TaskButton),children:"Edit"})}),Object(k.jsx)("div",{children:Object(k.jsx)("button",{className:"btn btn-danger ".concat(U.a.TaskButton),onClick:()=>(e=>{c(e),n(!0)})(e),children:"Delete"})})]},e.id))):Object(k.jsx)("p",{children:"No tasks available."})]}),Object(k.jsx)("div",{className:U.a.CreateButton,children:Object(k.jsx)(u.c,{to:"/tasks/create",className:"btn btn-success",children:"Create Task"})})]}),Object(k.jsxs)(z.a,{show:a,onHide:i,children:[Object(k.jsx)(z.a.Header,{closeButton:!0,children:Object(k.jsx)(z.a.Title,{children:"Confirm Delete"})}),Object(k.jsx)(z.a.Body,{children:"Are you sure you want to delete this task? Removing a task is permanent."}),Object(k.jsxs)(z.a.Footer,{children:[Object(k.jsx)(E.a,{variant:"secondary",onClick:i,children:"Cancel"}),Object(k.jsx)(E.a,{variant:"danger",onClick:async()=>{try{await m.a.delete("/tasks/".concat(r.id,"/")),t(e.filter((e=>e.id!==r.id))),n(!1)}catch(a){console.error("Error deleting task:",a)}},children:"Delete"})]})]})]})},J=a(21),M=a.n(J);var Y=()=>{const[e,t]=Object(s.useState)(""),[a,n]=Object(s.useState)(""),[r,i]=Object(s.useState)(""),[o,l]=Object(s.useState)({}),d=Object(c.o)();return Object(k.jsx)("div",{className:M.a.Container,children:Object(k.jsxs)("div",{className:M.a.TextBox,children:[Object(k.jsx)("h2",{children:"Create a New Task"}),Object(k.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const s=(new Date).toISOString().split("T")[0],n={};if(e.trim()||(n.title="Title is required and cannot be blank."),a.trim()||(n.description="Description is required and cannot be blank."),(!r||r<s)&&(n.dueDate="Due Date must be today or later."),Object.keys(n).length>0)l(n);else try{const t={title:e,description:a,due_date:new Date(r).toISOString()};await m.a.post("/tasks/",t,{headers:{"Content-Type":"application/json"}}),d("/tasks")}catch(c){console.error("Error creating task:",c.response?c.response.data:c.message)}},className:M.a.Form,children:[Object(k.jsxs)("div",{className:M.a.FormGroup,children:[Object(k.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(k.jsx)("input",{type:"text",id:"title",value:e,onChange:e=>t(e.target.value),required:!0,className:M.a.Input}),o.title&&Object(k.jsx)(G.a,{variant:"danger",children:o.title})]}),Object(k.jsxs)("div",{className:M.a.FormGroup,children:[Object(k.jsx)("label",{htmlFor:"description",children:"Description:"}),Object(k.jsx)("textarea",{id:"description",value:a,onChange:e=>n(e.target.value),required:!0,className:M.a.Textarea}),o.description&&Object(k.jsx)(G.a,{variant:"danger",children:o.description})]}),Object(k.jsxs)("div",{className:M.a.FormGroup,children:[Object(k.jsx)("label",{htmlFor:"dueDate",children:"Due Date:"}),Object(k.jsx)("input",{type:"date",id:"dueDate",value:r,onChange:e=>i(e.target.value),required:!0,className:M.a.Input}),o.dueDate&&Object(k.jsx)(G.a,{variant:"danger",children:o.dueDate})]}),Object(k.jsx)("div",{className:M.a.ButtonGroup,children:Object(k.jsx)("button",{type:"submit",className:"btn btn-success ".concat(M.a.Button),children:"Create Task"})})]})]})})},V=a(66),X=a(41),Z=a.n(X);var K=e=>{let{taskId:t,onCommentAdded:a}=e;const[n,r]=Object(s.useState)(""),[c,i]=Object(s.useState)(null),[o,l]=Object(s.useState)(!0);Object(s.useEffect)((()=>()=>{l(!1)}),[]);return Object(k.jsx)("div",{className:Z.a.CommentCreateForm,children:Object(k.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),n.trim())try{const{data:e}=await m.a.post("/comments/",{text:n,task:t});o&&(a(e),r(""),i(null))}catch(s){console.error("Error posting comment:",s),o&&i("Failed to post comment. Please try again.")}else i("Comment cannot be empty or whitespace.")},children:[Object(k.jsx)("textarea",{className:Z.a.Textarea,value:n,onChange:e=>r(e.target.value),placeholder:"Add a comment..."}),c&&Object(k.jsx)("div",{className:Z.a.Error,children:c}),Object(k.jsx)("button",{type:"submit",className:"btn btn-primary ".concat(Z.a.Button),children:"Post"})]})})},Q=a(12),W=a.n(Q);var $=()=>{const{id:e}=Object(c.q)(),t=Object(c.o)(),[a,n]=Object(s.useState)(null),[r,i]=Object(s.useState)([]),[o,l]=Object(s.useState)(!0),[d,j]=Object(s.useState)(1),[u,b]=Object(s.useState)(!1),[p,x]=Object(s.useState)(null),[h,O]=Object(s.useState)(null),[_,v]=Object(s.useState)(""),[g,C]=Object(s.useState)(""),[N,T]=Object(s.useState)(!1),y=Object(s.useCallback)((async()=>{try{const{data:t}=await m.a.get("/comments/?task=".concat(e,"&page=").concat(d));i((e=>[...e,...t.results])),t.next||l(!1),j((e=>e+1))}catch(t){console.error("Error fetching comments:",t)}}),[e,d]);Object(s.useEffect)((()=>{(async()=>{try{const{data:t}=await m.a.get("/tasks/".concat(e,"/"));n(t)}catch(t){console.error("Error fetching task:",t)}})(),y()}),[e,y]);const D=()=>{b(!1),x(null)},f=()=>{T(!1)},S=()=>{O(null),v(""),C("")},B=async()=>{if(_.trim().length>0)try{await m.a.put("/comments/".concat(h,"/"),{text:_}),i((e=>e.map((e=>e.id===h?{...e,text:_}:e)))),S()}catch(e){console.error("Error updating comment:",e)}else C("Comment cannot be empty or whitespace.")};return Object(k.jsxs)("div",{className:W.a.Container,children:[Object(k.jsxs)("div",{className:W.a.TextBox,children:[Object(k.jsx)("div",{className:W.a.Title,children:null===a||void 0===a?void 0:a.title}),Object(k.jsx)("div",{className:W.a.Description,children:null===a||void 0===a?void 0:a.description}),Object(k.jsx)("hr",{className:W.a.Divider}),Object(k.jsxs)("div",{className:null!==a&&void 0!==a&&a.is_overdue?"".concat(W.a.OverdueDate):W.a.DueDate,children:["Due Date: ",new Date(null===a||void 0===a?void 0:a.due_date).toLocaleDateString(),(null===a||void 0===a?void 0:a.is_overdue)&&Object(k.jsx)("span",{className:W.a.OverdueText,children:"Overdue"})]}),Object(k.jsxs)("div",{className:W.a.ButtonsContainer,children:[Object(k.jsx)("button",{onClick:()=>{t("/tasks/".concat(e,"/edit"))},className:"btn btn-warning ".concat(W.a.Button),children:"Edit"}),Object(k.jsx)("button",{onClick:()=>{T(!0)},className:"btn btn-danger ".concat(W.a.Button),children:"Delete"})]})]}),Object(k.jsxs)("div",{className:W.a.CommentsSection,children:[Object(k.jsx)(K,{taskId:e,onCommentAdded:e=>{i((t=>[e,...t]))}}),Object(k.jsx)(V.a,{dataLength:r.length,next:y,hasMore:o,loader:Object(k.jsx)("h4",{children:"Loading..."}),endMessage:Object(k.jsx)("p",{style:{textAlign:"center"},children:Object(k.jsx)("b",{children:"No more comments"})}),children:r.map((e=>Object(k.jsxs)("div",{className:W.a.Comment,children:[Object(k.jsx)("div",{className:W.a.CommentOwner,children:e.owner}),h===e.id?Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{type:"text",value:_,onChange:e=>v(e.target.value),className:"form-control"}),g&&Object(k.jsx)("div",{className:"text-danger",children:g}),Object(k.jsx)("button",{className:"btn btn-primary",onClick:B,children:"Save"}),Object(k.jsx)("button",{className:"btn btn-secondary",onClick:S,children:"Cancel"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:W.a.CommentText,children:e.text}),Object(k.jsx)("div",{className:W.a.CommentDate,children:new Date(e.created_at).toLocaleDateString()}),Object(k.jsxs)("div",{className:W.a.CommentButtons,children:[Object(k.jsx)("button",{className:"btn btn-warning",onClick:()=>(e=>{O(e.id),v(e.text),C("")})(e),children:"Edit"}),Object(k.jsx)("button",{className:"btn btn-danger",onClick:()=>(e=>{x(e),b(!0)})(e),children:"Delete"})]})]})]},e.id)))})]}),Object(k.jsxs)(z.a,{show:u,onHide:D,children:[Object(k.jsx)(z.a.Header,{closeButton:!0,children:Object(k.jsx)(z.a.Title,{children:"Confirm Delete"})}),Object(k.jsx)(z.a.Body,{children:"Are you sure you want to delete this comment? Removing a comment is permanent."}),Object(k.jsxs)(z.a.Footer,{children:[Object(k.jsx)(E.a,{variant:"secondary",onClick:D,children:"Cancel"}),Object(k.jsx)(E.a,{variant:"danger",onClick:async()=>{if(p)try{await m.a.delete("/comments/".concat(p.id,"/")),i((e=>e.filter((e=>e.id!==p.id)))),D()}catch(e){console.error("Error deleting comment:",e)}},children:"Delete"})]})]}),Object(k.jsxs)(z.a,{show:N,onHide:f,children:[Object(k.jsx)(z.a.Header,{closeButton:!0,children:Object(k.jsx)(z.a.Title,{children:"Confirm Delete"})}),Object(k.jsx)(z.a.Body,{children:"Are you sure you want to delete this task? Removing a task is permanent."}),Object(k.jsxs)(z.a.Footer,{children:[Object(k.jsx)(E.a,{variant:"secondary",onClick:f,children:"Cancel"}),Object(k.jsx)(E.a,{variant:"danger",onClick:async()=>{try{await m.a.delete("/tasks/".concat(e,"/")),t("/tasks")}catch(a){console.error("Error deleting task:",a)}},children:"Delete"})]})]})]})},ee=a(19),te=a.n(ee);var ae=()=>{const{id:e}=Object(c.q)(),t=Object(c.o)(),[a,n]=Object(s.useState)(""),[r,i]=Object(s.useState)(""),[o,l]=Object(s.useState)(""),[d,j]=Object(s.useState)({});Object(s.useEffect)((()=>{(async()=>{try{const{data:t}=await m.a.get("/tasks/".concat(e,"/"));n(t.title),i(t.description);const a=new Date(t.due_date);a.setDate(a.getDate()+1),l(a.toISOString().split("T")[0])}catch(t){console.error("Error fetching task:",t)}})()}),[e]);return Object(k.jsx)("div",{className:te.a.Container,children:Object(k.jsxs)("div",{className:te.a.TextBox,children:[Object(k.jsx)("h2",{children:"Edit Task"}),Object(k.jsxs)("form",{onSubmit:async s=>{s.preventDefault();const n=(new Date).toISOString().split("T")[0],c={};if(a.trim()||(c.title="Title is required and cannot be blank."),r.trim()||(c.description="Description is required and cannot be blank."),(!o||o<n)&&(c.dueDate="Due Date must be today or later."),Object.keys(c).length>0)j(c);else try{const s={title:a,description:r,due_date:new Date(o).toISOString()};await m.a.put("/tasks/".concat(e,"/"),s,{headers:{"Content-Type":"application/json"}}),t("/tasks")}catch(i){console.error("Error updating task:",i.response?i.response.data:i.message)}},className:te.a.Form,children:[Object(k.jsxs)("div",{className:te.a.FormGroup,children:[Object(k.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(k.jsx)("input",{type:"text",id:"title",value:a,onChange:e=>n(e.target.value),required:!0,className:te.a.Input}),d.title&&Object(k.jsx)(G.a,{variant:"danger",children:d.title})]}),Object(k.jsxs)("div",{className:te.a.FormGroup,children:[Object(k.jsx)("label",{htmlFor:"description",children:"Description:"}),Object(k.jsx)("textarea",{id:"description",value:r,onChange:e=>i(e.target.value),required:!0,className:te.a.Textarea}),d.description&&Object(k.jsx)(G.a,{variant:"danger",children:d.description})]}),Object(k.jsxs)("div",{className:te.a.FormGroup,children:[Object(k.jsx)("label",{htmlFor:"dueDate",children:"Due Date:"}),Object(k.jsx)("input",{type:"date",id:"dueDate",value:o,onChange:e=>l(e.target.value),required:!0,className:te.a.Input}),d.dueDate&&Object(k.jsx)(G.a,{variant:"danger",children:d.dueDate})]}),Object(k.jsxs)("div",{className:te.a.ButtonGroup,children:[Object(k.jsx)("button",{type:"submit",className:"btn btn-success ".concat(te.a.Button),children:"Save"}),Object(k.jsx)("button",{type:"button",onClick:()=>{t("/tasks")},className:"btn btn-danger ".concat(te.a.Button),children:"Cancel"})]})]})]})})},se=a(28),ne=a.n(se);var re=()=>{const[e,t]=Object(s.useState)([]),[a,n]=Object(s.useState)(!1),[r,c]=Object(s.useState)(null);Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await _.get("/groups/");t(e)}catch(e){console.error(e)}})()}),[]);const i=()=>{n(!1),c(null)};return Object(k.jsxs)("div",{className:ne.a.Container,children:[Object(k.jsxs)("div",{className:ne.a.TextBox,children:[Object(k.jsxs)("div",{className:ne.a.ScrollableContent,children:[Object(k.jsxs)("div",{className:ne.a.HeaderRow,children:[Object(k.jsx)("div",{children:"Task"}),Object(k.jsx)("div",{children:"Group Size"}),Object(k.jsx)("div",{children:"Description"}),Object(k.jsx)("div",{children:"View Group"}),Object(k.jsx)("div",{children:"Edit Group"}),Object(k.jsx)("div",{children:"Delete Group"})]}),e.length>0?e.map((e=>Object(k.jsxs)("div",{className:ne.a.GroupItem,children:[Object(k.jsx)("div",{children:e.task.title}),Object(k.jsx)("div",{children:e.group_size}),Object(k.jsx)("div",{children:e.description}),Object(k.jsx)("div",{children:Object(k.jsx)(u.b,{to:"/groups/".concat(e.id),className:"btn btn-primary ".concat(ne.a.GroupButton),children:"View"})}),Object(k.jsx)("div",{children:Object(k.jsx)(u.b,{to:"/groups/".concat(e.id,"/edit"),className:"btn btn-warning ".concat(ne.a.GroupButton),children:"Edit"})}),Object(k.jsx)("div",{children:Object(k.jsx)("button",{className:"btn btn-danger ".concat(ne.a.GroupButton),onClick:()=>(e=>{c(e),n(!0)})(e),children:"Delete"})})]},e.id))):Object(k.jsx)("p",{children:"No groups available."})]}),Object(k.jsx)("div",{className:ne.a.CreateButton,children:Object(k.jsx)(u.c,{to:"/groups/create",className:"btn btn-success",children:"Create Group"})})]}),Object(k.jsxs)(z.a,{show:a,onHide:i,children:[Object(k.jsx)(z.a.Header,{closeButton:!0,children:Object(k.jsx)(z.a.Title,{children:"Confirm Delete"})}),Object(k.jsx)(z.a.Body,{children:"Are you sure you want to delete this group? Removing a group is permanent."}),Object(k.jsxs)(z.a.Footer,{children:[Object(k.jsx)(E.a,{variant:"secondary",onClick:i,children:"Cancel"}),Object(k.jsx)(E.a,{variant:"danger",onClick:async()=>{try{await m.a.delete("/groups/".concat(r.id,"/")),t(e.filter((e=>e.id!==r.id))),n(!1)}catch(a){console.error("Error deleting group:",a)}},children:"Delete"})]})]})]})},ce=a(22),ie=a.n(ce);var oe=()=>{const[e,t]=Object(s.useState)([]),[a,n]=Object(s.useState)(""),[r,i]=Object(s.useState)(""),[o,l]=Object(s.useState)(""),[d,j]=Object(s.useState)({}),u=Object(c.o)();Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await O.get("/tasks/");t(e)}catch(e){console.error("Error fetching tasks:",e)}})()}),[]);return Object(k.jsx)("div",{className:ie.a.Container,children:Object(k.jsxs)("div",{className:ie.a.TextBox,children:[Object(k.jsx)("h2",{children:"Create a New Group"}),Object(k.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t={};if(a||(t.task="Task is required."),(!r||isNaN(r)||r<=0)&&(t.groupSize="Group size must be a positive number."),o.trim()||(t.description="Description is required and cannot be blank."),Object.keys(t).length>0)j(t);else try{const e={task:a,group_size:r,description:o};await m.a.post("/groups/",e,{headers:{"Content-Type":"application/json"}}),u("/groups")}catch(s){console.error("Error creating group:",s.response?s.response.data:s.message)}},className:ie.a.Form,children:[Object(k.jsxs)("div",{className:ie.a.FormGroup,children:[Object(k.jsx)("label",{htmlFor:"task",children:"Task:"}),Object(k.jsxs)("select",{id:"task",value:a,onChange:e=>n(e.target.value),required:!0,className:ie.a.Input,children:[Object(k.jsx)("option",{value:"",children:"Select a task"}),e.map((e=>Object(k.jsx)("option",{value:e.id,children:e.title},e.id)))]}),d.task&&Object(k.jsx)(G.a,{variant:"danger",children:d.task})]}),Object(k.jsxs)("div",{className:ie.a.FormGroup,children:[Object(k.jsx)("label",{htmlFor:"groupSize",children:"Group Size:"}),Object(k.jsx)("input",{type:"number",id:"groupSize",value:r,onChange:e=>i(e.target.value),required:!0,className:ie.a.Input}),d.groupSize&&Object(k.jsx)(G.a,{variant:"danger",children:d.groupSize})]}),Object(k.jsxs)("div",{className:ie.a.FormGroup,children:[Object(k.jsx)("label",{htmlFor:"description",children:"Description:"}),Object(k.jsx)("textarea",{id:"description",value:o,onChange:e=>l(e.target.value),required:!0,className:ie.a.Textarea}),d.description&&Object(k.jsx)(G.a,{variant:"danger",children:d.description})]}),Object(k.jsx)("div",{className:ie.a.ButtonGroup,children:Object(k.jsx)("button",{type:"submit",className:"btn btn-success ".concat(ie.a.Button),children:"Create Group"})})]})]})})},le=a(25),de=a.n(le);var je=()=>{const{id:e}=Object(c.q)(),t=Object(c.o)(),[a,n]=Object(s.useState)(null),[r,i]=Object(s.useState)(!1);Object(s.useEffect)((()=>{(async()=>{try{const{data:t}=await m.a.get("/groups/".concat(e,"/"));n(t)}catch(t){console.error("Error fetching group:",t)}})()}),[e]);const o=()=>{i(!1)};return Object(k.jsxs)("div",{className:de.a.Container,children:[Object(k.jsxs)("div",{className:de.a.TextBox,children:[Object(k.jsx)("div",{className:de.a.Title,children:null===a||void 0===a?void 0:a.name}),Object(k.jsx)("div",{className:de.a.Description,children:null===a||void 0===a?void 0:a.description}),Object(k.jsx)("hr",{className:de.a.Divider}),Object(k.jsxs)("div",{className:de.a.GroupSize,children:["Group Size: ",null===a||void 0===a?void 0:a.size]}),Object(k.jsxs)("div",{className:de.a.TaskLink,children:["Task: ",null===a||void 0===a?void 0:a.task.title]}),Object(k.jsxs)("div",{className:de.a.ButtonsContainer,children:[Object(k.jsx)("button",{onClick:()=>{t("/groups/".concat(e,"/edit"))},className:"btn btn-warning ".concat(de.a.Button),children:"Edit"}),Object(k.jsx)("button",{onClick:()=>{i(!0)},className:"btn btn-danger ".concat(de.a.Button),children:"Delete"})]})]}),Object(k.jsxs)(z.a,{show:r,onHide:o,children:[Object(k.jsx)(z.a.Header,{closeButton:!0,children:Object(k.jsx)(z.a.Title,{children:"Confirm Delete"})}),Object(k.jsx)(z.a.Body,{children:"Are you sure you want to delete this group? Removing a group is permanent."}),Object(k.jsxs)(z.a.Footer,{children:[Object(k.jsx)(E.a,{variant:"secondary",onClick:o,children:"Cancel"}),Object(k.jsx)(E.a,{variant:"danger",onClick:async()=>{try{await m.a.delete("/groups/".concat(e,"/")),t("/groups")}catch(a){console.error("Error deleting group:",a)}},children:"Delete"})]})]})]})},ue=a(15),be=a.n(ue);var me=()=>{const{id:e}=Object(c.q)(),t=Object(c.o)(),[a,n]=Object(s.useState)(""),[r,i]=Object(s.useState)(""),[o,l]=Object(s.useState)(""),[d,j]=Object(s.useState)(""),[u,b]=Object(s.useState)([]),[p,x]=Object(s.useState)({});Object(s.useEffect)((()=>{(async()=>{try{const{data:t}=await m.a.get("/groups/".concat(e,"/"));n(t.title),i(t.description),l(t.group_size),j(t.task)}catch(t){console.error("Error fetching group:",t)}})(),(async()=>{try{const{data:e}=await m.a.get("/tasks/");b(e)}catch(e){console.error("Error fetching tasks:",e)}})()}),[e]);return Object(k.jsx)("div",{className:be.a.Container,children:Object(k.jsxs)("div",{className:be.a.TextBox,children:[Object(k.jsx)("h2",{children:"Edit Group"}),Object(k.jsxs)("form",{onSubmit:async s=>{s.preventDefault();const n={};if(a.trim()||(n.title="Title is required and cannot be blank."),r.trim()||(n.description="Description is required and cannot be blank."),(!o||o<=0)&&(n.groupSize="Group size must be a positive number."),d||(n.task="A task must be selected."),Object.keys(n).length>0)x(n);else try{const s={title:a,description:r,group_size:o,task:d};await m.a.put("/groups/".concat(e,"/"),s,{headers:{"Content-Type":"application/json"}}),t("/groups")}catch(c){console.error("Error updating group:",c.response?c.response.data:c.message)}},className:be.a.Form,children:[Object(k.jsxs)("div",{className:be.a.FormGroup,children:[Object(k.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(k.jsx)("input",{type:"text",id:"title",value:a,onChange:e=>n(e.target.value),required:!0,className:be.a.Input}),p.title&&Object(k.jsx)(G.a,{variant:"danger",children:p.title})]}),Object(k.jsxs)("div",{className:be.a.FormGroup,children:[Object(k.jsx)("label",{htmlFor:"description",children:"Description:"}),Object(k.jsx)("textarea",{id:"description",value:r,onChange:e=>i(e.target.value),required:!0,className:be.a.Textarea}),p.description&&Object(k.jsx)(G.a,{variant:"danger",children:p.description})]}),Object(k.jsxs)("div",{className:be.a.FormGroup,children:[Object(k.jsx)("label",{htmlFor:"groupSize",children:"Group Size:"}),Object(k.jsx)("input",{type:"number",id:"groupSize",value:o,onChange:e=>l(e.target.value),required:!0,className:be.a.Input}),p.groupSize&&Object(k.jsx)(G.a,{variant:"danger",children:p.groupSize})]}),Object(k.jsxs)("div",{className:be.a.FormGroup,children:[Object(k.jsx)("label",{htmlFor:"task",children:"Task:"}),Object(k.jsxs)("select",{id:"task",value:d,onChange:e=>j(e.target.value),required:!0,className:be.a.Input,children:[Object(k.jsx)("option",{value:"",children:"Select a task"}),u.map((e=>Object(k.jsx)("option",{value:e.id,children:e.title},e.id)))]}),p.task&&Object(k.jsx)(G.a,{variant:"danger",children:p.task})]}),Object(k.jsxs)("div",{className:be.a.ButtonGroup,children:[Object(k.jsx)("button",{type:"submit",className:"btn btn-success ".concat(be.a.Button),children:"Save"}),Object(k.jsx)("button",{type:"button",onClick:()=>{t("/groups")},className:"btn btn-danger ".concat(be.a.Button),children:"Cancel"})]})]})]})})},pe=a(42),xe=a.n(pe);var he=()=>Object(k.jsxs)("footer",{className:xe.a.Footer,children:[Object(k.jsx)("h3",{className:xe.a.Title,children:"Contact Planbrella \xa9"}),Object(k.jsx)("p",{className:xe.a.Paragraph,children:"Phone Number: 08-123 45 67"}),Object(k.jsx)("p",{className:xe.a.Paragraph,children:"E-mail: admin@planbrella.com"})]}),Oe=a(52),_e=a.n(Oe);var ve=()=>{const[e,t]=Object(s.useState)(!1),a=Object(c.m)(),n=T(),[r,i]=Object(s.useState)("120px");return Object(s.useEffect)((()=>{t(!1)}),[a]),Object(s.useEffect)((()=>{i(n?e?"180px":"120px":e?"140px":"120px")}),[n,e]),{menuOpen:e,setMenuOpen:t,paddingTop:r}};var ge=function(){const{menuOpen:e,setMenuOpen:t,paddingTop:a}=ve();return Object(k.jsxs)("div",{className:o()(_e.a.App,{[_e.a.contentShift]:e}),children:[Object(k.jsx)(f,{onToggle:e=>t(e)})," ",Object(k.jsxs)("div",{className:_e.a.content,style:{paddingTop:a,flex:1},children:[" ",Object(k.jsxs)(c.c,{children:[Object(k.jsx)(c.a,{path:"/",element:Object(k.jsx)(w,{})})," ",Object(k.jsx)(c.a,{path:"/sign-in",element:Object(k.jsx)(A,{})})," ",Object(k.jsx)(c.a,{path:"/sign-up",element:Object(k.jsx)(q,{})})," ",Object(k.jsx)(c.a,{path:"/tasks",element:Object(k.jsx)(R,{})})," ",Object(k.jsx)(c.a,{path:"/tasks/create",element:Object(k.jsx)(Y,{})})," ",Object(k.jsx)(c.a,{path:"/tasks/:id",element:Object(k.jsx)($,{})})," ",Object(k.jsx)(c.a,{path:"/tasks/:id/edit",element:Object(k.jsx)(ae,{})})," ",Object(k.jsx)(c.a,{path:"/groups",element:Object(k.jsx)(re,{})})," ",Object(k.jsx)(c.a,{path:"/groups/create",element:Object(k.jsx)(oe,{})})," ",Object(k.jsx)(c.a,{path:"/groups/:id",element:Object(k.jsx)(je,{})})," ",Object(k.jsx)(c.a,{path:"/groups/:id/edit",element:Object(k.jsx)(me,{})})," ",Object(k.jsx)(c.a,{path:"*",element:Object(k.jsx)("p",{children:"Page not found!"})})," "]})]}),Object(k.jsx)(he,{})," "]})};r.a.render(Object(k.jsx)(u.a,{children:Object(k.jsx)(D,{children:Object(k.jsx)(ge,{})})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.4ae3858e.chunk.js.map